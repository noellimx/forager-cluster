╷
│ Error: Provider produced inconsistent final plan
│ 
│ When expanding the plan for helm_release.forager-helm to include new values learned so
│ far during apply, provider "registry.terraform.io/hashicorp/helm" produced an invalid
│ new value for .manifest: was
│ cty.StringVal("{\"configmap/v1/mychart-configmap-forager-helm-1\":{\"apiVersion\":\"v1\",\"data\":{\"drink\":\"coffeess012coffeess012\",\"myvalue\":\"forager-helm-1\",\"namespaceannotations\":null,\"unsetkey\":\"unsetval\"},\"kind\":\"ConfigMap\",\"metadata\":{\"name\":\"mychart-configmap-forager-helm-1\"}},\"deployment.apps/apps/v1/gear\":{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"labels\":{\"app\":\"gear\"},\"name\":\"gear\"},\"spec\":{\"replicas\":3,\"selector\":{\"matchLabels\":{\"app\":\"gear\"}},\"template\":{\"metadata\":{\"labels\":{\"app\":\"gear\"}},\"spec\":{\"containers\":[{\"image\":\"nginx:1.16.0\",\"imagePullPolicy\":\"IfNotPresent\",\"name\":\"gear\"}]}}}},\"deployment.apps/apps/v1/nginx-app\":{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"labels\":{\"app\":\"nginx\"},\"name\":\"nginx-app\"},\"spec\":{\"replicas\":3,\"selector\":{\"matchLabels\":{\"app\":\"nginx\"}},\"template\":{\"metadata\":{\"labels\":{\"app\":\"nginx\"}},\"spec\":{\"containers\":[{\"env\":[{\"name\":\"my_variable_password\",\"valueFrom\":{\"secretKeyRef\":{\"key\":\"password\",\"name\":\"my-secret\"}}},{\"name\":\"my_variable_username\",\"valueFrom\":{\"secretKeyRef\":{\"key\":\"username\",\"name\":\"my-secret\"}}}],\"image\":\"nginx:1.17.0\",\"imagePullPolicy\":\"IfNotPresent\",\"name\":\"nginx\"}]}}}},\"forager-helm/sealedsecret.bitnami.com/bitnami.com/v1alpha1/my-secret\":{\"apiVersion\":\"bitnami.com/v1alpha1\",\"kind\":\"SealedSecret\",\"metadata\":{\"annotations\":{\"sealedsecrets.bitnami.com/cluster-wide\":\"true\"},\"creationTimestamp\":null,\"name\":\"my-secret\",\"namespace\":\"forager-helm\"},\"spec\":{\"encryptedData\":{\"password\":\"AgAV8lzNZZfAG6HgFBPKjdJ2JqYOhin96rIIRg9Vv18LDOwuWjMiS/Zvrn4MdJJdWNQXnTtqCGLKOGRVFAPfCSIzP8TWwLyBituK6g7mXE0AqdZExUU22xRtxwXtdRCVwxtEqXvb7ISbrM69yw5h52NV4xdbN5BJ7Ynq/KMUD5umTmW33/2sd60UiebdA2nJMv+kJ622QE946tNIDlSxahNEXQ0uNzUhKEZW6w3q4wh+0Af4ckrGqgHKCcfq7YzYBh7RF1SqZ6XoMmb4hFmC14bOV7r2BBG6d4zvMejsdEMNPQDkgrGPPtm9Hn/JXCyzz1lUqZzjMir7Cz131NUHlLQZD1SozcR+Rpl4wjb43Wj2ijskW29fu5SqSlHce4UD7wRyqFf0toS2gLo7C8Vbtbqk8kBqxlhQ2MsyAOCYF6EWPMdSJq9Mb/6N9jFlZwQRFs1tZuC2DbHXNUSL4eM8zAQL3MR3jYSdfKXhViycoZGlB/F0UDzRGGcs9WzAPgjko+WeVCW3tdKc98odeKSoZoT83Hy+/pG7gtel75MqnzTfjYGyPHxGh3+pVEmadDIrh660atSbjxgYKaT1z780i3LM+3N9fo0DopLFioFZm3TN9PGoyasKYw1FaE287ePCfPgGCBd5ya3kok6dyR1N7NhkKYqvZCxf1Myc+4wahm55YIJSwp29mIWPUZdSTHeYCN774wg/wPYyHg==\",\"username\":\"AgBn1Y7ijiTfsqUysdF7lt+pSDFlaoZeV7GFDGa9UyByky03r3J2XpYV52kLKBnC6C8JP9JW2kyliFFPqWkIcM7E5TQ1b0QJTex/4c9z+y+GyVdkM7BGY+KUbG+ClOa9T/vAzXsNtYtghxOfi9DXDkDpr31FbdaqefEEoX84bTen/McwEPdIVVSEYUBM2op4q92uwGtC0eJkAC3EsrnVpYqo0ywCxMJ0ZkR3UkT/UdKm4uV24Ik63ouvGTFLH23rfxB1DRPbGwzeMLdnaVcLk6vpe/xV8dXxgGGVNPhSVxfFUES4nFF+ZGZzKfwU1j1sFfEtYCiqiCgZd+xRnFU4R9SdO6lX3jiCVZR+dutaYG7gPZm1l/AcyD+pf+vFw7k+uWTG1Z3ppMXRInVwMdnMm5ZhtOT/u9r7KZwnUcXV750Ai+8Omf/9YbW8NLh22iWDM3H4b85989W3dZZr0hTVVwAxeb6w9YKKe6ramfso+DW8EaPb0P4YZHkl6ewctwoHLo1AZlFNTkIIoRE8n/9uwLq0toVRFpJEuAUn/J1MNblIAnfYi0rAqn9+720t8GjoM1qZoZ5cm4V9N6KDPjEMqPbaha4u4sPgMjo+X6zypgZkmk4xERbK45BfQY/1zKHvhDWljajyFUh5mbNCM+zSbDMaWCUpwEEcHVrlM+kHtfVeIkUemIjY38dYJmoPWhSAY3QYd+kAGC2GKA==\"},\"template\":{\"metadata\":{\"annotations\":{\"sealedsecrets.bitnami.com/cluster-wide\":\"true\"},\"creationTimestamp\":null,\"name\":\"my-secret\",\"namespace\":\"forager-helm\"},\"type\":\"Opaque\"}}},\"ingress.networking.k8s.io/networking.k8s.io/v1/gear-ingress\":{\"apiVersion\":\"networking.k8s.io/v1\",\"kind\":\"Ingress\",\"metadata\":{\"annotations\":{\"kubernetes.io/ingress.global-static-ip-name\":\"gear-ingress-ext-ip\"},\"name\":\"gear-ingress\"},\"spec\":{\"defaultBackend\":{\"service\":{\"name\":\"gear-service\",\"port\":{\"number\":82}}}}},\"persistentvolumeclaim/v1/database-pvc\":{\"apiVersion\":\"v1\",\"kind\":\"PersistentVolumeClaim\",\"metadata\":{\"name\":\"database-pvc\"},\"spec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"10Gi\"}},\"storageClassName\":\"standard-rwo\"}},\"service/v1/gear-service\":{\"apiVersion\":\"v1\",\"kind\":\"Service\",\"metadata\":{\"name\":\"gear-service\"},\"spec\":{\"ports\":[{\"name\":\"http\",\"port\":82,\"protocol\":\"TCP\",\"targetPort\":80}],\"selector\":{\"app\":\"gear\"},\"type\":\"NodePort\"}},\"service/v1/nginx-load-balancer\":{\"apiVersion\":\"v1\",\"kind\":\"Service\",\"metadata\":{\"name\":\"nginx-load-balancer\"},\"spec\":{\"ports\":[{\"name\":\"http\",\"port\":81,\"targetPort\":80}],\"selector\":{\"app\":\"nginx\"},\"type\":\"LoadBalancer\"}}}"),
│ but now
│ cty.StringVal("{\"configmap/v1/mychart-configmap-forager-helm-1\":{\"apiVersion\":\"v1\",\"data\":{\"drink\":\"coffeess012coffeess012\",\"myvalue\":\"forager-helm-1\",\"namespaceannotations\":null,\"unsetkey\":\"unsetval\"},\"kind\":\"ConfigMap\",\"metadata\":{\"name\":\"mychart-configmap-forager-helm-1\"}},\"deployment.apps/apps/v1/gear\":{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"labels\":{\"app\":\"gear\"},\"name\":\"gear\"},\"spec\":{\"replicas\":3,\"selector\":{\"matchLabels\":{\"app\":\"gear\"}},\"template\":{\"metadata\":{\"labels\":{\"app\":\"gear\"}},\"spec\":{\"containers\":[{\"image\":\"nginx:1.16.0\",\"imagePullPolicy\":\"IfNotPresent\",\"name\":\"gear\"}]}}}},\"deployment.apps/apps/v1/nginx-app\":{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"labels\":{\"app\":\"nginx\"},\"name\":\"nginx-app\"},\"spec\":{\"replicas\":3,\"selector\":{\"matchLabels\":{\"app\":\"nginx\"}},\"template\":{\"metadata\":{\"labels\":{\"app\":\"nginx\"}},\"spec\":{\"containers\":[{\"env\":[{\"name\":\"my_variable_password\",\"valueFrom\":{\"secretKeyRef\":{\"key\":\"password\",\"name\":\"my-secret\"}}},{\"name\":\"my_variable_username\",\"valueFrom\":{\"secretKeyRef\":{\"key\":\"username\",\"name\":\"my-secret\"}}}],\"image\":\"nginx:1.17.0\",\"imagePullPolicy\":\"IfNotPresent\",\"name\":\"nginx\"}]}}}},\"forager-helm/sealedsecret.bitnami.com/bitnami.com/v1alpha1/my-secret\":{\"apiVersion\":\"bitnami.com/v1alpha1\",\"kind\":\"SealedSecret\",\"metadata\":{\"annotations\":{\"sealedsecrets.bitnami.com/cluster-wide\":\"true\"},\"creationTimestamp\":null,\"name\":\"my-secret\",\"namespace\":\"forager-helm\"},\"spec\":{\"encryptedData\":{\"password\":\"AgAV8lzNZZfAG6HgFBPKjdJ2JqYOhin96rIIRg9Vv18LDOwuWjMiS/Zvrn4MdJJdWNQXnTtqCGLKOGRVFAPfCSIzP8TWwLyBituK6g7mXE0AqdZExUU22xRtxwXtdRCVwxtEqXvb7ISbrM69yw5h52NV4xdbN5BJ7Ynq/KMUD5umTmW33/2sd60UiebdA2nJMv+kJ622QE946tNIDlSxahNEXQ0uNzUhKEZW6w3q4wh+0Af4ckrGqgHKCcfq7YzYBh7RF1SqZ6XoMmb4hFmC14bOV7r2BBG6d4zvMejsdEMNPQDkgrGPPtm9Hn/JXCyzz1lUqZzjMir7Cz131NUHlLQZD1SozcR+Rpl4wjb43Wj2ijskW29fu5SqSlHce4UD7wRyqFf0toS2gLo7C8Vbtbqk8kBqxlhQ2MsyAOCYF6EWPMdSJq9Mb/6N9jFlZwQRFs1tZuC2DbHXNUSL4eM8zAQL3MR3jYSdfKXhViycoZGlB/F0UDzRGGcs9WzAPgjko+WeVCW3tdKc98odeKSoZoT83Hy+/pG7gtel75MqnzTfjYGyPHxGh3+pVEmadDIrh660atSbjxgYKaT1z780i3LM+3N9fo0DopLFioFZm3TN9PGoyasKYw1FaE287ePCfPgGCBd5ya3kok6dyR1N7NhkKYqvZCxf1Myc+4wahm55YIJSwp29mIWPUZdSTHeYCN774wg/wPYyHg==\",\"username\":\"AgBn1Y7ijiTfsqUysdF7lt+pSDFlaoZeV7GFDGa9UyByky03r3J2XpYV52kLKBnC6C8JP9JW2kyliFFPqWkIcM7E5TQ1b0QJTex/4c9z+y+GyVdkM7BGY+KUbG+ClOa9T/vAzXsNtYtghxOfi9DXDkDpr31FbdaqefEEoX84bTen/McwEPdIVVSEYUBM2op4q92uwGtC0eJkAC3EsrnVpYqo0ywCxMJ0ZkR3UkT/UdKm4uV24Ik63ouvGTFLH23rfxB1DRPbGwzeMLdnaVcLk6vpe/xV8dXxgGGVNPhSVxfFUES4nFF+ZGZzKfwU1j1sFfEtYCiqiCgZd+xRnFU4R9SdO6lX3jiCVZR+dutaYG7gPZm1l/AcyD+pf+vFw7k+uWTG1Z3ppMXRInVwMdnMm5ZhtOT/u9r7KZwnUcXV750Ai+8Omf/9YbW8NLh22iWDM3H4b85989W3dZZr0hTVVwAxeb6w9YKKe6ramfso+DW8EaPb0P4YZHkl6ewctwoHLo1AZlFNTkIIoRE8n/9uwLq0toVRFpJEuAUn/J1MNblIAnfYi0rAqn9+720t8GjoM1qZoZ5cm4V9N6KDPjEMqPbaha4u4sPgMjo+X6zypgZkmk4xERbK45BfQY/1zKHvhDWljajyFUh5mbNCM+zSbDMaWCUpwEEcHVrlM+kHtfVeIkUemIjY38dYJmoPWhSAY3QYd+kAGC2GKA==\"},\"template\":{\"metadata\":{\"annotations\":{\"sealedsecrets.bitnami.com/cluster-wide\":\"true\"},\"creationTimestamp\":null,\"name\":\"my-secret\",\"namespace\":\"forager-helm\"},\"type\":\"Opaque\"}}},\"ingress.networking.k8s.io/networking.k8s.io/v1/gear-ingress\":{\"apiVersion\":\"networking.k8s.io/v1\",\"kind\":\"Ingress\",\"metadata\":{\"annotations\":{\"kubernetes.io/ingress.global-static-ip-name\":\"gear-ingress-ext-ip\"},\"name\":\"gear-ingress\"},\"spec\":{\"defaultBackend\":{\"service\":{\"name\":\"gear-service\",\"port\":{\"number\":82}}}}},\"persistentvolumeclaim/v1/database-pvc\":{\"apiVersion\":\"v1\",\"kind\":\"PersistentVolumeClaim\",\"metadata\":{\"name\":\"database-pvc\"},\"spec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"10Gi\"}},\"storageClassName\":\"standard-rwo\"}},\"service/v1/gear-service\":{\"apiVersion\":\"v1\",\"kind\":\"Service\",\"metadata\":{\"name\":\"gear-service\"},\"spec\":{\"ports\":[{\"name\":\"http\",\"port\":82,\"protocol\":\"TCP\",\"targetPort\":80}],\"selector\":{\"app\":\"gear\"},\"type\":\"NodePort\"}},\"service/v1/nginx-load-balancer\":{\"apiVersion\":\"v1\",\"kind\":\"Service\",\"metadata\":{\"name\":\"nginx-load-balancer\"},\"spec\":{\"ports\":[{\"name\":\"http\",\"port\":81,\"targetPort\":80}],\"selector\":{\"app\":\"nginx\"},\"type\":\"LoadBalancer\"}},\"statefulset.apps/apps/v1/mysql-set\":{\"apiVersion\":\"apps/v1\",\"kind\":\"StatefulSet\",\"metadata\":{\"name\":\"mysql-set\"},\"spec\":{\"replicas\":3,\"selector\":{\"matchLabels\":{\"app\":\"mysql\"}},\"serviceName\":\"mysql-service\",\"template\":{\"metadata\":{\"labels\":{\"app\":\"mysql\"}},\"spec\":{\"containers\":[{\"image\":\"registry.k8s.io/nginx-slim:0.8\",\"name\":\"mysql\",\"ports\":[{\"containerPort\":80,\"name\":\"mysql\"}],\"volumeMounts\":[{\"mountPath\":\"/usr/share/nginx/html\",\"name\":\"mysql-vol-placeholder\"}]}],\"terminationGracePeriodSeconds\":10}},\"volumeClaimTemplates\":[{\"metadata\":{\"name\":\"mysql-vol-placeholder\"},\"spec\":{\"accessModes\":[\"ReadWriteOnce\"],\"resources\":{\"requests\":{\"storage\":\"1Gi\"}}}}]}}}").